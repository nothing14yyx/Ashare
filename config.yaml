app:
  # 输出目录（AshareApp.output_dir）
  output_dir: output
  # 是否拉取/增量更新日线K线数据（history_daily_kline）
  # true：会调用 Baostock K 线接口进行冷启动/增量更新
  # false：不请求 Baostock K 线接口，只从数据库表切片读取
  #       （要求 history_daily_kline 表已存在且非空）
  fetch_daily_kline: true
  # 最近 N 个交易日窗口
  history_days: 365
  # 流动性排序时保留的股票数量
  top_liquidity_count: 100
  # 最少上市天数过滤阈值
  min_listing_days: 60
  # 是否在每次运行时刷新 Baostock 季频财务数据（非常耗时）
  # true：每次运行都会打 Baostock 接口，更新 fundamentals_quarter_* 表
  # false：只使用数据库中已有的财务表，直接拼接 fundamentals_latest_wide
  refresh_fundamentals: false

database:
  host: 127.0.0.1
  port: 3306
  user: root
  password: ""
  db_name: ashare

proxy:
  http: http://127.0.0.1:7890
  https: http://127.0.0.1:7890

baostock:
  # Baostock 登录失败时的重试次数与间隔（秒）
  retry: 3
  retry_sleep: 3.0
  # Socket 超时（秒），防止底层网络调用无限等待
  socket_timeout: 30
  # 单只股票拉取的子进程超时时间（秒）
  per_code_timeout: 30
  # 单只股票最大尝试次数
  max_retries: 2
  # 断点续跑判定：每只股票满足最少行数后视为已完成
  resume_min_rows_per_code: 200
  # 并发控制：默认/最小/最大子进程数以及网络带宽上限
  worker_processes: 4
  min_worker_processes: 1
  max_worker_processes: 8
  network_worker_cap: 4
  # 进度日志与批量写入配置
  progress_log_every: 100
  history_flush_batch: 5
  history_write_chunksize: 500
  # 清理策略：window=仅清理当前批次区间，skip=直接追加；history_retention_days>0 时会按窗口定期清理
  history_cleanup_mode: window
  history_retention_days: 0

akshare:
  enabled: false
  lhb:
    enabled: true
  margin:
    enabled: true
    exchanges:
      - sse
      - szse
  hsgt:
    enabled: true
    markets:
      - "沪股通"
      - "深股通"
    indicator: "5日排行"
  gdhs:
    enabled: true
    period: ""
    detail_enabled: true
    detail_top_n: 100

